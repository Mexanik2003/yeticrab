(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(6),i=n.n(r),l=n(7),d=n.n(l),o=(n(15),n(3)),s=(n(16),n(2)),u=n(0),j=Object(c.forwardRef)((function(e,t){return Object(u.jsx)("select",{ref:t,children:e.items.map((function(e,t){return Object(u.jsx)("option",{disabled:e.disabled,value:e.value,children:e.text},t)}))})}));var b=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),a=Object(c.useRef)(null);return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{id:"filterForm",className:"form",onSubmit:function(c){if(c.preventDefault(),t&&n&&a){var r,i,l,d,o,s,u={column:(null===(r=t.current)||void 0===r?void 0:r.value)?null===(i=t.current)||void 0===i?void 0:i.value:"",operator:(null===(l=n.current)||void 0===l?void 0:l.value)?null===(d=n.current)||void 0===d?void 0:d.value:"",value:(null===(o=a.current)||void 0===o?void 0:o.value)?null===(s=a.current)||void 0===s?void 0:s.value:""};console.log(u),e.changeFilter(u)}},children:[Object(u.jsx)(j,{type:"column",items:[{value:"0",text:"-- \u0421\u0442\u043e\u043b\u0431\u0435\u0446 --",disabled:!1},{value:"id",text:"ID",disabled:!1},{value:"date",text:"\u0414\u0430\u0442\u0430",disabled:!1},{value:"name",text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:!1},{value:"carrier",text:"\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a",disabled:!1},{value:"tel",text:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",disabled:!1},{value:"ATICode",text:"ATICode",disabled:!1}],ref:t}),Object(u.jsx)(j,{type:"column",items:[{value:"0",text:"-- \u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 --",disabled:!1},{value:"=",text:"\u0440\u0430\u0432\u043d\u043e",disabled:!1},{value:"~",text:"\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",disabled:!1},{value:">",text:"\u0431\u043e\u043b\u044c\u0448\u0435",disabled:!1},{value:"<",text:"\u043c\u0435\u043d\u044c\u0448\u0435",disabled:!1}],ref:n}),Object(u.jsx)("input",{ref:a,type:"text",placeholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430"}),Object(u.jsx)("button",{type:"submit",children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),Object(u.jsx)("button",{type:"reset",onClick:function(t){t.preventDefault(),e.changeFilter({column:"",operator:"",value:""})},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),Object(u.jsx)("br",{}),"\u041f\u043e\u0438\u0441\u043a: ",Object(u.jsx)("input",{type:"text",onChange:function(t){var n=t.target.value;e.changeSearchVal(n)},placeholder:"\u041f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430"})]})})};var f=function(e){var t=e.tasks,n=Object(c.useState)(-1),a=Object(o.a)(n,2),r=a[0],i=a[1];if(t.sort((function(t,n){var c=e.filter.sort.asc?1:-1,a=e.filter.sort.column;return t[a]>n[a]?1*c:t[a]<n[a]?-1*c:0})),"0"!==e.filter.filter.column&&"0"!==e.filter.filter.operator&&e.filter.filter.value){var l=e.filter.filter,d=l.column,j=l.operator,b=l.value;t=t.filter((function(e){return"="===j?e[d].toString()===b:"~"===j?e[d].toString().indexOf(b)>-1:">"===j?+e[d]>+b:"<"===j?+e[d]<+b:void 0}))}if(e.filter.search){var f=e.filter.search;t=t.filter((function(e){return e.id.toString().indexOf(f)>-1||e.date.toString().indexOf(f)>-1||e.name.toString().indexOf(f)>-1||e.carrier.toString().indexOf(f)>-1||e.tel.toString().indexOf(f)>-1||e.ATICode.toString().indexOf(f)>-1}))}function O(t){t.preventDefault(),t.target.dataset.name&&e.changeSort(t.target.dataset.name)}function x(e){i(+e.target.dataset.id)}function h(n){n.preventDefault(),console.log(n.target.elements),e.saveTask(Object(s.a)(Object(s.a)({},t[n.target.elements.index.value]),{},{date:n.target.elements.date.value,name:n.target.elements.name.value,carrier:n.target.elements.carrier.value,tel:n.target.elements.tel.value,ATICode:n.target.elements.ATICode.value})),i(-1)}function m(n){n.preventDefault(),e.deleteTask(Object(s.a)({},t[n.target.dataset.index])),i(-1)}function v(e){e.preventDefault(),i(-1)}return Object(u.jsx)("div",{children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"id",children:"ID"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"date",children:"\u0414\u0430\u0442\u0430"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"carrier",children:"\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"tel",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"comments",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"})}),Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("a",{href:"/",onClick:O,"data-name":"ATICode",children:"ATI-\u043a\u043e\u0434"})}),Object(u.jsx)("th",{scope:"col",children:"\u041e\u043f\u0446\u0438\u0438"})]})}),Object(u.jsx)("tbody",{children:t.map((function(t,n){return t.id===+r?Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:8,children:Object(u.jsxs)("form",{onSubmit:h,children:[Object(u.jsx)("input",{type:"text",name:"index",defaultValue:n,disabled:!0}),Object(u.jsx)("input",{type:"text",name:"date",defaultValue:t.date}),Object(u.jsx)("input",{type:"text",name:"name",defaultValue:t.name}),Object(u.jsx)("input",{type:"text",name:"carrier",defaultValue:t.carrier}),Object(u.jsx)("input",{type:"text",name:"tel",defaultValue:t.tel}),Object(u.jsx)("input",{type:"text",name:"ATICode",defaultValue:t.ATICode}),Object(u.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{onClick:v,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})},n):Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.id}),Object(u.jsx)("td",{children:t.date}),Object(u.jsx)("td",{children:t.name}),Object(u.jsx)("td",{children:t.carrier}),Object(u.jsx)("td",{children:t.tel}),Object(u.jsx)("td",{children:t.comments.map((function(e,n){return Object(u.jsx)("p",{children:e},"".concat(t.id,"-").concat(n))}))}),Object(u.jsx)("td",{children:t.ATICode}),Object(u.jsx)("td",{children:e.adminFlag?Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:x,"data-id":t.id,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{onClick:m,"data-index":n,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}):""})]},n)}))})]})})},O=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER,[{id:1,date:"2021-01-02 10:11",name:"\u041e\u041e\u041e \u0420\u043e\u043c\u0430\u0448\u043a\u0430",carrier:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",tel:"79086307477",comments:["\u041a\u043e\u043c\u043c\u0435\u043d\u04421","\u041a\u043e\u043c\u043c\u0435\u043d\u04422","\u041a\u043e\u043c\u043c\u0435\u043d\u04423"],ATICode:1785},{id:5,date:"2021-03-04 12:13",name:"\u041e\u041e\u041e \u041f\u0435\u0442\u0440\u0443\u0448\u043a\u0430",carrier:"\u041f\u0435\u0442\u0440\u043e\u0432 \u041f\u0435\u0442\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",tel:"79876543210",comments:["\u041a\u043e\u043c\u043c\u0435\u043d\u04421","\u041a\u043e\u043c\u043c\u0435\u043d\u04422","\u041a\u043e\u043c\u043c\u0435\u043d\u04423"],ATICode:6457},{id:8,date:"2021-07-08 14:15",name:"\u041e\u041e\u041e \u041a\u0430\u043f\u0443\u0441\u0442\u0430",carrier:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",tel:"79086307477",comments:["\u041a\u043e\u043c\u043c\u0435\u043d\u04421","\u041a\u043e\u043c\u043c\u0435\u043d\u04422","\u041a\u043e\u043c\u043c\u0435\u043d\u04423"],ATICode:8751},{id:16,date:"2021-07-08 16:17",name:"\u041e\u041e\u041e \u0412\u0438\u0448\u043d\u044f",carrier:"\u0421\u0438\u0434\u043e\u0440\u043e\u0432 \u0421\u0438\u0434\u043e\u0440 \u0421\u0438\u0434\u043e\u0440\u043e\u0432\u0438\u0447",tel:"79086307471",comments:["\u041a\u043e\u043c\u043c\u0435\u043d\u04421","\u041a\u043e\u043c\u043c\u0435\u043d\u04422","\u041a\u043e\u043c\u043c\u0435\u043d\u04423"],ATICode:6547}]);var x=function(e){var t=Object(c.useState)({filter:{column:"",operator:"",value:""},sort:{column:"date",asc:!0},search:""}),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(O),l=Object(o.a)(i,2),d=l[0],j=l[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u044f\u0432\u043e\u043a: ",d.length]}),Object(u.jsx)(b,{changeFilter:function(e){r(Object(s.a)(Object(s.a)({},a),{},{filter:e}))},changeSearchVal:function(e){r(Object(s.a)(Object(s.a)({},a),{},{search:e}))}}),Object(u.jsx)(f,{filter:a,tasks:d,isAdmin:!1,changeSort:function(e){r(Object(s.a)(Object(s.a)({},a),{},{sort:{column:e,asc:e!==a.sort.column||!a.sort.asc}}))},adminFlag:e.adminFlag,saveTask:function(e){var t=d.find((function(t){return t.id===e.id}));t&&(d.push(e),j(d.filter((function(e){return e!==t}))))},deleteTask:function(e){d.find((function(t){return t.id===e.id}))&&j(d.filter((function(t){return t.id!=e.id})))}})]})};var h=function(e){var t=e.adminFlag?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0443";return Object(u.jsx)("nav",{children:Object(u.jsx)("button",{onClick:function(t){t.preventDefault(),e.setAdminFlag()},children:t})})};var m=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{children:Object(u.jsx)(h,{setAdminFlag:function(){a(!n)},adminFlag:n})}),Object(u.jsx)("main",{children:Object(u.jsx)(x,{adminFlag:n})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.config(),d.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),v()}},[[18,1,2]]]);
//# sourceMappingURL=main.3f87c1e7.chunk.js.map